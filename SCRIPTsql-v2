CREATE DATABASE clube_vinho;
USE clube_vinho;

CREATE TABLE membros (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(255) NOT NULL,
    email VARCHAR(255) NOT NULL,
    senha VARCHAR(255) NOT NULL
);

CREATE TABLE vinhos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(255) NOT NULL,
    tipo VARCHAR(255) NOT NULL,
    safra INT NOT NULL,
    origem VARCHAR(255) NOT NULL,
    pontuacao DECIMAL(3, 1),
    descricao TEXT
);

CREATE TABLE eventos (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome VARCHAR(255) NOT NULL,
    data DATE NOT NULL,
    local VARCHAR(255) NOT NULL,
    descricao TEXT
);

CREATE TABLE inscricoes (
    id INT AUTO_INCREMENT PRIMARY KEY,
    id_evento INT NOT NULL,
    id_membro INT NOT NULL,
    FOREIGN KEY (id_evento) REFERENCES eventos (id),
    FOREIGN KEY (id_membro) REFERENCES membros (id)
);

INSERT INTO membros (nome, email, senha)
VALUES
    ('João Silva', 'joao@example.com', 'senha123'),
    ('Maria Santos', 'maria@example.com', 'senha456'),
    ('Carlos Oliveira', 'carlos@example.com', 'senha789');

INSERT INTO vinhos (nome, tipo, safra, origem, pontuacao, descricao)
VALUES
    ('Vinho Tinto Reserva', 'Tinto', 2019, 'Portugal', 4.5, 'Um vinho encorpado com notas frutadas.'),
    ('Vinho Branco Seco', 'Branco', 2020, 'França', 4.2, 'Um vinho branco refrescante com acidez equilibrada.'),
    ('Vinho Rosé', 'Rosé', 2021, 'Itália', 4.0, 'Um vinho rosé leve e frutado.');

INSERT INTO eventos (nome, data, local, descricao)
VALUES
    ('Degustação de Vinhos Portugueses', '2023-10-15', 'Lisboa', 'Uma degustação de vinhos de várias regiões de Portugal.'),
    ('Festival de Vinhos do Sul da França', '2023-11-20', 'Marselha', 'Um evento para explorar os vinhos do sul da França.'),
    ('Workshop de Harmonização de Vinho e Queijo', '2023-12-10', 'Paris', 'Aprenda a combinar vinhos e queijos para uma experiência gastronômica única.');

INSERT INTO inscricoes (id_evento, id_membro)
VALUES
    (1, 1),  -- João Silva inscrito na Degustação de Vinhos Portugueses
    (2, 2),  -- Maria Santos inscrita no Festival de Vinhos do Sul da França
    (3, 3);  -- Carlos Oliveira inscrito no Workshop de Harmonização de Vinho e Queijo;
